2025-07-16 11:04:49.615 | INFO     | uvicorn.server:_serve:84 - Started server process [15787]
2025-07-16 11:04:49.616 | INFO     | uvicorn.lifespan.on:startup:48 - Waiting for application startup.
2025-07-16 11:04:49.883 | INFO     | uvicorn.lifespan.on:startup:62 - Application startup complete.
2025-07-16 11:04:50.021 | INFO     | uvicorn.server:_log_started_message:216 - Uvicorn running on http://0.0.0.0:12332 (Press CTRL+C to quit)
2025-07-16 11:04:50.036 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.038 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.038 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.077 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.077 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.080 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.098 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.099 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.099 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.100 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.100 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.101 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.108 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.108 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.109 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.154 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.155 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.155 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.180 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.181 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.181 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.187 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.188 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.188 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.213 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.214 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.214 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.217 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.217 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.217 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.230 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.230 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.230 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.239 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.239 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.240 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.251 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.251 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.252 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.264 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.265 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.265 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.277 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.277 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.277 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.294 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.294 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.294 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.305 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.305 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.306 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.306 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.306 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.307 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.307 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.307 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.307 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.309 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.309 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.309 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.333 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.333 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.333 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:04:50.348 | ERROR    | server.leanrepl:_send_command:80 - Error decoding JSON:
2025-07-16 11:04:50.348 | ERROR    | server.leanrepl:_send_command:81 - Response received:
2025-07-16 11:04:50.348 | ERROR    | server.leanrepl:_send_command:93 - Error from stderr: %s
2025-07-16 11:05:01.604 | INFO     | uvicorn.server:shutdown:264 - Shutting down
2025-07-16 11:05:01.707 | INFO     | uvicorn.lifespan.on:shutdown:67 - Waiting for application shutdown.
2025-07-16 11:05:01.709 | ERROR    | uvicorn.lifespan.on:send:134 - Traceback (most recent call last):
  File "/home/t-ilshapiro/lean/venv/lib/python3.12/site-packages/starlette/routing.py", line 694, in lifespan
    async with self.lifespan_context(app) as maybe_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/t-ilshapiro/lean/venv/lib/python3.12/site-packages/fastapi/routing.py", line 134, in merged_lifespan
    async with original_context(app) as maybe_original_state:
  File "/usr/lib/python3.12/contextlib.py", line 217, in __aexit__
    await anext(self.gen)
  File "/home/t-ilshapiro/lean/LeanDockerWrapper/kimina-lean-server/server/server.py", line 99, in lifespan
    await task
  File "/home/t-ilshapiro/lean/LeanDockerWrapper/kimina-lean-server/server/server.py", line 60, in _repl_cleaner
    id, repl = repl_cache.close_queue.get()
    ^^^^^^^^
TypeError: cannot unpack non-iterable LeanREPL object

2025-07-16 11:05:01.709 | ERROR    | uvicorn.lifespan.on:shutdown:73 - Application shutdown failed. Exiting.
2025-07-16 11:05:01.710 | INFO     | uvicorn.server:_serve:94 - Finished server process [15787]
